<!DOCTYPE HTML>
<html>
<head>
  <!-- analytics -->
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-72YBP3VHKR"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-72YBP3VHKR');
  </script>
  
  
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>CISCN2023初赛 AdvDetPatch WriteUp | KYRIOTA</title>
  <meta name="author" content="KYRIOTA">
  
  <meta name="description" content="之前一起打了CISCN 2023初赛，因为周末睡懒觉晚到了两三个小时导致做这个题的时间不充裕了，最后在比赛结束后半个小时出了，主要原因还是因为没有玩过Yolo，当时记得这个题的解题数是很低的（或者好像是零解的？反正截止至我开始写这篇WP的时间[2023-08-07 18:30]，我在网上并没有搜到WP），本题在选手机器学习底子坚实的前提下主要考验选手入手新的模型和领域的速度以及将对抗样本训练应用上来的速度。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="CISCN2023初赛 AdvDetPatch WriteUp"/>
  <meta property="og:site_name" content="KYRIOTA"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/img/icon.ico" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="KYRIOTA" type="application/atom+xml">
</head>
 <body>
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Home</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the blogs.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="Sort by categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About Kyriota">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/html/meme" title="Ingredients that compose me">
			  <i class=""></i>Meme
			</a>
		  </li>
		  
		  <li>
			<a href="/html/academic" title="Academic Home">
			  <i class=""></i>Academic
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> CISCN2023初赛 AdvDetPatch WriteUp</h1>
		</div>
	



    <div class="row post">
        <!-- cols -->
        
            <div id="top_meta"></div>
            <div class="col-md-9">
                

                            <!-- content -->
                            <div class="mypage">
                                

                                        <p>之前一起打了CISCN 2023初赛，因为周末睡懒觉晚到了两三个小时导致做这个题的时间不充裕了，最后在比赛结束后半个小时出了，主要原因还是因为没有玩过Yolo，当时记得这个题的解题数是很低的（或者好像是零解的？反正截止至我开始写这篇WP的时间[2023-08-07 18:30]，我在网上并没有搜到WP），本题在选手机器学习底子坚实的前提下主要考验选手入手新的模型和领域的速度以及将对抗样本训练应用上来的速度。</p>
<span id="more"></span>
<h1 id="ciscn2023初赛-advdetpatch-writeup">CISCN2023初赛 AdvDetPatch WriteUp</h1>
<h2 id="题干">题干</h2>
<blockquote>
<p>本次竞赛要求选手针对目标检测模型进行对抗攻击。题目提供了1张样例图片（/home/adv/images/stop.png），要求选手在给定的图片中添加一些对抗性补丁，上传带有补丁的图片和代表补丁位置的mask，要求：</p>
<ol type="1">
<li>使得模型无法正确地检测出图片中的所有物体</li>
<li>并且补丁的面积不能超过图像面积的5%（例如对于640 * 640的图像，patch面积不超过20480 ），就能得到flag。</li>
<li>图像的尺寸、命名、文件格式（<code>.png</code>）和原始图像保持一致。</li>
<li>mask图像只存在0或255两种像素值，其中255代表patch像素占据的位置。文件名保存为<code>mask.png</code>，mask的白色部分代表补丁部分，黑色是未修改部分。</li>
</ol>
</blockquote>
<p>以下为需要选手攻击的图片</p>
<p><img src="/images/CISCN_2023_stop.png" /></p>
<h2 id="解题过程">解题过程</h2>
<h3 id="初步验证">初步验证</h3>
<p>由于我是第一次玩Yolo，先自己跑一下看看能否得到正确的输出，通过在<code>fool_me.py</code>中<code>print(pred)</code>得到如下输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tensor([[3.38821e+02, 1.65334e+02, 5.22038e+02, 4.83467e+02, 9.34208e-01, 1.10000e+01],</span><br><span class="line">        [4.66704e+02, 2.09673e+02, 6.39832e+02, 5.45919e+02, 9.33491e-01, 1.10000e+01],</span><br><span class="line">        [2.00159e+02, 2.04222e+02, 3.79344e+02, 5.11239e+02, 9.25105e-01, 1.10000e+01],</span><br><span class="line">        [7.07512e+01, 2.37424e+02, 2.40440e+02, 5.33154e+02, 9.14894e-01, 1.10000e+01],</span><br><span class="line">        [7.70359e-01, 2.53848e+02, 1.03618e+02, 5.43242e+02, 9.01769e-01, 1.10000e+01],</span><br><span class="line">        [1.41904e+01, 3.93319e+02, 4.42650e+01, 4.40926e+02, 6.95912e-01, 2.40000e+01],</span><br><span class="line">        [1.30602e+01, 3.96193e+02, 4.70077e+01, 4.42493e+02, 4.05268e-01, 1.10000e+01]])</span><br></pre></td></tr></table></figure>
<p>对此我们需要确定此Tensor中每个Dimension的含义</p>
<p>我们查阅关于Yolo的资料可知，每个向量中前四个元素代表了Bounding Box的范围，第五维代表了置信度，第六维代表了Class(Label)</p>
<p>据此我们可以写出可视化脚本来可视化模型的输出结果，可视化如下</p>
<p><img src="/images/CISCN_2023_Yolo_Example.png" /></p>
<p>可见根据出题人给出的代码跑出的输出可以正确地被用于在原始图像上标记出所有Stop Sign的范围</p>
<p>接下来我们需要做的就是攻击这个模型，使得没有物体被检测到了</p>
<h3 id="查找资料">查找资料</h3>
<p>根据题目标题，我们正在做的是Adversarial Patch，对抗性补丁，按照我的理解，这与之前看过的在一个图像上贴一个不透明的同时只覆盖部分原始图像的技术是一个东西</p>
<p>目前这项技术比较流行的是在现实世界中的Adv Patch，如下图，挂有Adv Patch的人无法被模型识别出是人类</p>
<p><img src="/images/CISCN_2023_Yolo_Adv_Patch_Example.png" /></p>
<p>根据中英文关键词（Yolo Adversarial Attack; Yolo Adversarial Patch; Yolo 对抗补丁; Yolo 对抗攻击），查找到了一篇题为Sparse Adversarial Attack to Object Detection<a target="_blank" rel="noopener" href="https://arxiv.org/abs/2012.13692">预印本文章</a>，这篇文章正好提供了我们需要的信息，我们只需要看文章中的两张图就知道如何攻击了</p>
<p><img src="/images/CISCN_2023_Paper_Fig_1.png" /></p>
<p>上图介绍了攻击的流程，比如确定Mask的形状，通过反向传播获取增加到图像上的扰动等。其中他有两个Preprocess我没太明白，但这不影响我们理解攻击的方式</p>
<p><img src="/images/CISCN_2023_Paper_Fig_2.png" /></p>
<p>上图展示了被攻击成功的图像，请注意图像中类似杂讯的十字，这可能需要对图像进行放大才能清晰地看见。我们可以由此认识到：其实Adv Patch就是在最基础的对抗攻击中限制了可以攻击的图像面积，并且被攻击的像素是替换而不是叠加</p>
<h3 id="exp">Exp</h3>
<p>首先需要获取一个Mask，在调试题目的代码后，我发现题目对修改像素的数量其实比较宽松，所以我们采用米字形的Mask以更好地对需要攻击的部分进行扰动，这个Mask可以通过PS绘图后使用Python将灰色像素给去掉（因为题目限制了Mask的像素必须非0即255，所以需要去掉灰色的像素）</p>
<p><img src="/images/CISCN_2023_mask.png" /></p>
<p>有了这个Mask我们就可以开始攻击了，现在移步<code>fool_me.py</code>进行代码修改</p>
<p>首先我们使用随机噪声填充这个Mask</p>
<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        Get Noise
    </div>
    <div class='spoiler-content'>
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_noise</span>(<span class="params">mask_path, source</span>):</span></span><br><span class="line">    mask = Image.<span class="built_in">open</span>(mask_path)</span><br><span class="line">    mask = np.array(mask)</span><br><span class="line">    noise = torch.rand(<span class="number">640</span>, <span class="number">640</span>, <span class="number">3</span>)</span><br><span class="line">    noise = noise * <span class="number">255</span></span><br><span class="line">    noise = noise.<span class="built_in">int</span>()</span><br><span class="line">    noise = noise.numpy() * mask</span><br><span class="line">    noise = Image.fromarray(noise.astype(np.uint8))</span><br><span class="line">    noise.save(source)</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>然后我们需要修改原本验证图像是否攻击成功的代码，其实就是对输入图像求个梯度，然后累加这个梯度，直到攻击成功</p>
<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        Edited Code
    </div>
    <div class='spoiler-content'>
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Run inference</span></span><br><span class="line"></span><br><span class="line">   grad = <span class="literal">None</span></span><br><span class="line">   crackFlag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> path, im, im0s, vid_cap, s <span class="keyword">in</span> dataset:</span><br><span class="line"></span><br><span class="line">       dt = [<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>]</span><br><span class="line">       </span><br><span class="line">       t1 = time_sync()</span><br><span class="line">       im = torch.from_numpy(im).to(device)</span><br><span class="line">       im = im.half() <span class="keyword">if</span> half <span class="keyword">else</span> im.<span class="built_in">float</span>()  <span class="comment"># uint8 to fp16/32</span></span><br><span class="line">       im = im / <span class="number">255</span> <span class="comment"># 0 - 255 to 0.0 - 1.0</span></span><br><span class="line">       im.requires_grad = <span class="literal">True</span></span><br><span class="line">       <span class="keyword">if</span> <span class="built_in">len</span>(im.shape) == <span class="number">3</span>:</span><br><span class="line">           im = im[<span class="literal">None</span>]  <span class="comment"># expand for batch dim</span></span><br><span class="line">       t2 = time_sync()</span><br><span class="line">       dt[<span class="number">0</span>] += t2 - t1</span><br><span class="line">       <span class="keyword">assert</span> im.shape == clean_img.shape, <span class="string">&quot;Image shapes must match.&quot;</span></span><br><span class="line">       </span><br><span class="line">       <span class="keyword">while</span> <span class="keyword">not</span> crackFlag:</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span> grad:</span><br><span class="line">               im = im - grad[<span class="number">0</span>]</span><br><span class="line">               <span class="comment"># ensure im is in [0, 1]</span></span><br><span class="line">               im = torch.clamp(im, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">           new_im = im * mask + clean_img * (<span class="number">1</span> - mask) <span class="comment"># eval patch</span></span><br><span class="line">           <span class="comment"># Inference</span></span><br><span class="line">           print(<span class="string">&#x27;---------------------Start detecting----------------------&#x27;</span>)</span><br><span class="line">           pred = model(new_im, augment=augment, visualize=visualize)</span><br><span class="line">           t3 = time_sync()</span><br><span class="line">           dt[<span class="number">1</span>] += t3 - t2</span><br><span class="line"></span><br><span class="line">           <span class="comment"># NMS</span></span><br><span class="line">           <span class="comment"># pred = non_max_suppression(pred, conf_thres, iou_thres, classes, agnostic_nms, max_det=max_det)</span></span><br><span class="line">           pred = non_max_suppression(pred, <span class="number">0.2</span>, iou_thres, classes, agnostic_nms, max_det=max_det) <span class="comment"># make conf_thres smaller</span></span><br><span class="line">           print(pred[<span class="number">0</span>])</span><br><span class="line">           print(pred[<span class="number">0</span>].requires_grad, im.requires_grad)</span><br><span class="line">           <span class="keyword">try</span>:</span><br><span class="line">               grad = torch.autograd.grad(pred[<span class="number">0</span>][<span class="number">0</span>][<span class="number">4</span>], im)</span><br><span class="line">               <span class="comment"># print(grad)</span></span><br><span class="line">               print(grad[<span class="number">0</span>].<span class="built_in">max</span>(), grad[<span class="number">0</span>].<span class="built_in">min</span>())</span><br><span class="line">           <span class="keyword">except</span>:</span><br><span class="line">               <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">           dt[<span class="number">2</span>] += time_sync() - t3</span><br><span class="line">           <span class="keyword">if</span> <span class="built_in">len</span>(pred[<span class="number">0</span>].cpu().detach().numpy()) == <span class="number">0</span> <span class="keyword">and</span> check_patchsize(mask):</span><br><span class="line">               crackFlag = <span class="literal">True</span></span><br><span class="line">               <span class="comment"># save im</span></span><br><span class="line">               im = im.cpu().detach().numpy()</span><br><span class="line">               im = im[<span class="number">0</span>].transpose(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line">               im = im * <span class="number">255</span></span><br><span class="line">               im = im.astype(np.uint8)</span><br><span class="line">               im = cv2.cvtColor(im, cv2.COLOR_RGB2BGR)</span><br><span class="line">               cv2.imwrite(<span class="string">&quot;adv_images/stop.png&quot;</span>, im)</span><br><span class="line">               print(<span class="string">&quot;[*]Cracked, now run fool_me.py&quot;</span>)</span><br><span class="line">               <span class="comment"># print(getflag())</span></span><br><span class="line">           <span class="keyword">elif</span> <span class="keyword">not</span> check_patchsize(mask):</span><br><span class="line">               print(<span class="string">&quot;[*]Too many adversarial pixels!&quot;</span>)</span><br><span class="line">           <span class="keyword">else</span>:</span><br><span class="line">               print(<span class="string">&quot;[*]Please remove the object!&quot;</span>)</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>至此，通常来说题目应该已经被Mark为Solved了，但我们得到的输出并不这么认为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">------------------Initializing detector-------------------</span><br><span class="line">Fusing layers... </span><br><span class="line">Model Summary: 367 layers, 46533693 parameters, 0 gradients</span><br><span class="line">libpng warning: iCCP: known incorrect sRGB profile</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.31950e+02, 1.63722e+02, 6.37381e+02, 5.43151e+02, 5.21886e-01, 1.10000e+01],</span><br><span class="line">        [4.71159e+02, 2.11284e+02, 6.39552e+02, 5.44185e+02, 4.40381e-01, 1.10000e+01],</span><br><span class="line">        [1.06963e+00, 2.29302e+02, 2.94475e+02, 5.46162e+02, 4.39895e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">C:\Users\Kyriota\AppData\Local\Programs\Python\Python39\lib\site-packages\torch\autograd\__init__.py:276: UserWarning: Error detected in struct torch::autograd::CopySlices. Traceback of forward call that caused the error:</span><br><span class="line">  File &quot;C:\Users\Kyriota\AppData\Local\Programs\Python\Python39\lib\runpy.py&quot;, line 197, in _run_module_as_main</span><br><span class="line">    return _run_code(code, main_globals, None,</span><br><span class="line">  File &quot;C:\Users\Kyriota\AppData\Local\Programs\Python\Python39\lib\runpy.py&quot;, line 87, in _run_code</span><br><span class="line">    exec(code, run_globals)</span><br><span class="line">  File &quot;c:\Users\Kyriota\.vscode\extensions\ms-python.python-2023.14.0\pythonFiles\lib\python\debugpy\__main__.py&quot;, line 39, in &lt;module&gt;</span><br><span class="line">    cli.main()</span><br><span class="line">  File &quot;c:\Users\Kyriota\.vscode\extensions\ms-python.python-2023.14.0\pythonFiles\lib\python\debugpy&#x2F;..\debugpy\server\cli.py&quot;, line 430, in main</span><br><span class="line">    run()</span><br><span class="line">  File &quot;c:\Users\Kyriota\.vscode\extensions\ms-python.python-2023.14.0\pythonFiles\lib\python\debugpy&#x2F;..\debugpy\server\cli.py&quot;, line 284, in run_file        </span><br><span class="line">    runpy.run_path(target, run_name&#x3D;&quot;__main__&quot;)</span><br><span class="line">  File &quot;c:\Users\Kyriota\.vscode\extensions\ms-python.python-2023.14.0\pythonFiles\lib\python\debugpy\_vendored\pydevd\_pydevd_bundle\pydevd_runpy.py&quot;, line 321, in run_path</span><br><span class="line">    return _run_module_code(code, init_globals, run_name,</span><br><span class="line">  File &quot;c:\Users\Kyriota\.vscode\extensions\ms-python.python-2023.14.0\pythonFiles\lib\python\debugpy\_vendored\pydevd\_pydevd_bundle\pydevd_runpy.py&quot;, line 135, in _run_module_code</span><br><span class="line">    _run_code(code, mod_globals, init_globals,</span><br><span class="line">  File &quot;c:\Users\Kyriota\.vscode\extensions\ms-python.python-2023.14.0\pythonFiles\lib\python\debugpy\_vendored\pydevd\_pydevd_bundle\pydevd_runpy.py&quot;, line 124, in _run_code</span><br><span class="line">    exec(code, run_globals)</span><br><span class="line">  File &quot;C:\Users\Kyriota\Desktop\CISCN\ciscn2023_AdvDetPatch\adv\exp.py&quot;, line 181, in &lt;module&gt;</span><br><span class="line">    main(opt)</span><br><span class="line">  File &quot;C:\Users\Kyriota\Desktop\CISCN\ciscn2023_AdvDetPatch\adv\exp.py&quot;, line 176, in main</span><br><span class="line">    run(**vars(opt))</span><br><span class="line">  File &quot;C:\Users\Kyriota\Desktop\CISCN\ciscn2023_AdvDetPatch\adv\exp.py&quot;, line 117, in run</span><br><span class="line">    pred &#x3D; non_max_suppression(pred, 0.2, iou_thres, classes, agnostic_nms, max_det&#x3D;max_det) # make conf_thres smaller</span><br><span class="line">  File &quot;C:\Users\Kyriota\Desktop\CISCN\ciscn2023_AdvDetPatch\adv\utils\general.py&quot;, line 697, in non_max_suppression</span><br><span class="line">    x[:, 5:] *&#x3D; x[:, 4:5]  # conf &#x3D; obj_conf * cls_conf</span><br><span class="line"> (Triggered internally at  C:\actions-runner\_work\pytorch\pytorch\builder\windows\pytorch\torch\csrc\autograd\python_anomaly_mode.cpp:104.)</span><br><span class="line">  return Variable._execution_engine.run_backward(  # Calls into the C++ engine to run the backward pass</span><br><span class="line">[*]Please remove the object!</span><br></pre></td></tr></table></figure>
<p>在这份报错中，我们关注的是<code>adv\utils\general.py</code>的报错</p>
<blockquote>
<p>x[:, 5:] <em>= x[:, 4:5] # conf = obj_conf </em> cls_conf</p>
</blockquote>
<p>见到了<code>*=</code>操作符以及<code>[]</code>直接对元素的操作，都表明了这是一个inplace操作，inplace操作是PyTorch为了节省内存，提高运行速度而直接在原始变量上进行修改和计算的一种操作方式，详情可以自行Google：<code>Inplace PyTorch</code>，这种操作方式有一个很大的问题就是无法进行AutoGrad自动求梯度，而此处我们恰好需要进行AutoGrad，所以我们需要将此处的Inplace操作修改为非Inplace的操作，具体需要修改的是<code>adv\utils\general.py</code>的<code>Line 696-739</code>，需要将原本的<code>x</code>进行<code>clone()</code>，在clone出的<code>new_x</code>上进行操作，并避免对<code>new_x</code>、<code>x</code>的任意一方进行inplace操作，<code>new_x[:, 5:] = x[:, 5:] * x[:, 4:5]</code>就顺利地避免了这件事</p>
<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        Edited Code
    </div>
    <div class='spoiler-content'>
        <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Compute conf</span></span><br><span class="line">      new_x = x.clone() <span class="comment"># If not clone, it will be an inplace operation</span></span><br><span class="line">      new_x[:, <span class="number">5</span>:] = x[:, <span class="number">5</span>:] * x[:, <span class="number">4</span>:<span class="number">5</span>]  <span class="comment"># conf = obj_conf * cls_conf</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># Box (center x, center y, width, height) to (x1, y1, x2, y2)</span></span><br><span class="line">      box = xywh2xyxy(new_x[:, :<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">      <span class="comment"># Detections matrix nx6 (xyxy, conf, cls)</span></span><br><span class="line">      <span class="keyword">if</span> multi_label:</span><br><span class="line">          i, j = (new_x[:, <span class="number">5</span>:] &gt; conf_thres).nonzero(as_tuple=<span class="literal">False</span>).T</span><br><span class="line">          xnew_x = torch.cat((box[i], xnew_x[i, j + <span class="number">5</span>, <span class="literal">None</span>], j[:, <span class="literal">None</span>].<span class="built_in">float</span>()), <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">else</span>:  <span class="comment"># best class only</span></span><br><span class="line">          conf, j = new_x[:, <span class="number">5</span>:].<span class="built_in">max</span>(<span class="number">1</span>, keepdim=<span class="literal">True</span>)</span><br><span class="line">          new_x = torch.cat((box, conf, j.<span class="built_in">float</span>()), <span class="number">1</span>)[conf.view(-<span class="number">1</span>) &gt; conf_thres]</span><br><span class="line"></span><br><span class="line">      <span class="comment"># Filter by class</span></span><br><span class="line">      <span class="keyword">if</span> classes <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">          new_x = new_x[(new_x[:, <span class="number">5</span>:<span class="number">6</span>] == torch.tensor(classes, device=new_x.device)).<span class="built_in">any</span>(<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">      <span class="comment"># Apply finite constraint</span></span><br><span class="line">      <span class="comment"># if not torch.isfinite(x).all():</span></span><br><span class="line">      <span class="comment">#     x = x[torch.isfinite(x).all(1)]</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># Check shape</span></span><br><span class="line">      n = new_x.shape[<span class="number">0</span>]  <span class="comment"># number of boxes</span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> n:  <span class="comment"># no boxes</span></span><br><span class="line">          <span class="keyword">continue</span></span><br><span class="line">      <span class="keyword">elif</span> n &gt; max_nms:  <span class="comment"># excess boxes</span></span><br><span class="line">          new_x = new_x[new_x[:, <span class="number">4</span>].argsort(descending=<span class="literal">True</span>)[:max_nms]]  <span class="comment"># sort by confidence</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># Batched NMS</span></span><br><span class="line">      c = new_x[:, <span class="number">5</span>:<span class="number">6</span>] * (<span class="number">0</span> <span class="keyword">if</span> agnostic <span class="keyword">else</span> max_wh)  <span class="comment"># classes</span></span><br><span class="line">      boxes, scores = new_x[:, :<span class="number">4</span>] + c, new_x[:, <span class="number">4</span>]  <span class="comment"># boxes (offset by class), scores</span></span><br><span class="line">      i = torchvision.ops.nms(boxes, scores, iou_thres)  <span class="comment"># NMS</span></span><br><span class="line">      <span class="keyword">if</span> i.shape[<span class="number">0</span>] &gt; max_det:  <span class="comment"># limit detections</span></span><br><span class="line">          i = i[:max_det]</span><br><span class="line">      <span class="keyword">if</span> merge <span class="keyword">and</span> (<span class="number">1</span> &lt; n &lt; <span class="number">3E3</span>):  <span class="comment"># Merge NMS (boxes merged using weighted mean)</span></span><br><span class="line">          <span class="comment"># update boxes as boxes(i,4) = weights(i,n) * boxes(n,4)</span></span><br><span class="line">          iou = box_iou(boxes[i], boxes) &gt; iou_thres  <span class="comment"># iou matrix</span></span><br><span class="line">          weights = iou * scores[<span class="literal">None</span>]  <span class="comment"># box weights</span></span><br><span class="line">          new_x[i, :<span class="number">4</span>] = torch.mm(weights, new_x[:, :<span class="number">4</span>]).<span class="built_in">float</span>() / weights.<span class="built_in">sum</span>(<span class="number">1</span>, keepdim=<span class="literal">True</span>)  <span class="comment"># merged boxes</span></span><br><span class="line">          <span class="keyword">if</span> redundant:</span><br><span class="line">              i = i[iou.<span class="built_in">sum</span>(<span class="number">1</span>) &gt; <span class="number">1</span>]  <span class="comment"># require redundancy</span></span><br><span class="line"></span><br><span class="line">      output[xi] = new_x[i]</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>在修改了<code>adv\utils\general.py</code>中的inplace操作后，我们的exp就可以正常运行啦</p>
<div class='spoiler collapsed'>
    <div class='spoiler-title'>
        Log
    </div>
    <div class='spoiler-content'>
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br></pre></td><td class="code"><pre><span class="line">------------------Initializing detector-------------------</span><br><span class="line">Fusing layers... </span><br><span class="line">Model Summary: 367 layers, 46533693 parameters, 0 gradients</span><br><span class="line">libpng warning: iCCP: known incorrect sRGB profile</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.99440e+02, 1.65098e+02, 6.39046e+02, 5.46643e+02, 5.57359e-01, 1.10000e+01],</span><br><span class="line">        [9.87518e-01, 2.29487e+02, 2.95075e+02, 5.46320e+02, 4.48890e-01, 1.10000e+01],</span><br><span class="line">        [4.67540e+02, 2.11631e+02, 6.39664e+02, 5.44510e+02, 4.05359e-01, 1.10000e+01],</span><br><span class="line">        [2.26281e+02, 2.03809e+02, 3.72906e+02, 5.13177e+02, 2.52862e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02568) tensor(-0.02769)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.64544e+02, 2.11324e+02, 6.39780e+02, 5.44572e+02, 4.44466e-01, 1.10000e+01],</span><br><span class="line">        [2.97909e+02, 1.64988e+02, 6.39148e+02, 5.46905e+02, 4.07725e-01, 1.10000e+01],</span><br><span class="line">        [1.25335e+01, 2.16234e+02, 3.21994e+02, 5.42364e+02, 3.96188e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02159) tensor(-0.01982)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.97461e+02, 1.65155e+02, 6.39086e+02, 5.46568e+02, 4.47543e-01, 1.10000e+01],</span><br><span class="line">        [1.27674e+01, 2.16266e+02, 3.21484e+02, 5.42356e+02, 3.95687e-01, 1.10000e+01],</span><br><span class="line">        [4.66559e+02, 2.11551e+02, 6.39689e+02, 5.44489e+02, 3.58109e-01, 1.10000e+01],</span><br><span class="line">        [2.24259e+02, 2.03079e+02, 3.75759e+02, 5.14603e+02, 2.00155e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02328) tensor(-0.02582)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.29764e+02, 1.63141e+02, 6.36678e+02, 5.44628e+02, 3.93021e-01, 1.10000e+01],</span><br><span class="line">        [1.20015e+01, 2.09785e+02, 3.94054e+02, 5.39255e+02, 3.92304e-01, 1.10000e+01],</span><br><span class="line">        [4.63676e+02, 2.11226e+02, 6.39796e+02, 5.44551e+02, 3.89934e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.03840) tensor(-0.02972)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[5.46739e+00, 2.09377e+02, 4.15404e+02, 5.39420e+02, 4.52883e-01, 1.10000e+01],</span><br><span class="line">        [4.61235e+02, 2.10750e+02, 6.39857e+02, 5.44667e+02, 4.21564e-01, 1.10000e+01],</span><br><span class="line">        [3.17969e+02, 1.63581e+02, 5.48315e+02, 5.35918e+02, 2.31240e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01583) tensor(-0.01487)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.61415e+02, 2.10783e+02, 6.39854e+02, 5.44658e+02, 4.19019e-01, 1.10000e+01],</span><br><span class="line">        [6.71468e+00, 2.09764e+02, 4.11786e+02, 5.39314e+02, 4.15713e-01, 1.10000e+01],</span><br><span class="line">        [2.33962e+02, 1.62835e+02, 6.32862e+02, 5.44387e+02, 2.50291e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02130) tensor(-0.02102)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.74260e+00, 2.09793e+02, 4.12019e+02, 5.39302e+02, 4.13334e-01, 1.10000e+01],</span><br><span class="line">        [3.02754e+02, 1.65323e+02, 6.38845e+02, 5.46732e+02, 3.41682e-01, 1.10000e+01],</span><br><span class="line">        [4.70861e+02, 2.11502e+02, 6.39273e+02, 5.45185e+02, 2.92887e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01749) tensor(-0.01496)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[9.69278e+00, 2.10208e+02, 4.03334e+02, 5.39157e+02, 3.75298e-01, 1.10000e+01],</span><br><span class="line">        [3.01532e+02, 1.65306e+02, 6.38896e+02, 5.46712e+02, 3.43980e-01, 1.10000e+01],</span><br><span class="line">        [4.70989e+02, 2.11515e+02, 6.39274e+02, 5.45182e+02, 2.92170e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01465) tensor(-0.01859)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.28244e+02, 1.63378e+02, 6.38103e+02, 5.44877e+02, 3.58895e-01, 1.10000e+01],</span><br><span class="line">        [8.05008e-01, 2.31701e+02, 2.91779e+02, 5.46677e+02, 3.49028e-01, 1.10000e+01],</span><br><span class="line">        [4.64350e+02, 2.11181e+02, 6.39744e+02, 5.44553e+02, 3.31244e-01, 1.10000e+01],</span><br><span class="line">        [2.21834e+02, 2.02153e+02, 3.78507e+02, 5.16345e+02, 2.02959e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.03296) tensor(-0.02410)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.93478e+00, 2.10221e+02, 4.13514e+02, 5.39214e+02, 3.81639e-01, 1.10000e+01],</span><br><span class="line">        [4.61900e+02, 2.10729e+02, 6.39779e+02, 5.44686e+02, 3.52377e-01, 1.10000e+01],</span><br><span class="line">        [2.35689e+02, 1.62994e+02, 6.33016e+02, 5.44957e+02, 2.14085e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01133) tensor(-0.01336)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.62111e+02, 2.10766e+02, 6.39778e+02, 5.44674e+02, 3.50585e-01, 1.10000e+01],</span><br><span class="line">        [9.42287e+00, 2.10610e+02, 4.06254e+02, 5.39079e+02, 3.47936e-01, 1.10000e+01],</span><br><span class="line">        [2.33012e+02, 1.63025e+02, 6.34475e+02, 5.44863e+02, 2.41192e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02165) tensor(-0.01778)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[3.04119e+02, 1.65405e+02, 6.38794e+02, 5.46639e+02, 3.50666e-01, 1.10000e+01],</span><br><span class="line">        [9.52650e+00, 2.10631e+02, 4.06190e+02, 5.39065e+02, 3.46781e-01, 1.10000e+01],</span><br><span class="line">        [4.71491e+02, 2.11652e+02, 6.39239e+02, 5.45020e+02, 2.50843e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02018) tensor(-0.01902)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.92395e+00, 2.10629e+02, 4.16032e+02, 5.39267e+02, 3.49018e-01, 1.10000e+01],</span><br><span class="line">        [4.61676e+02, 2.10669e+02, 6.39771e+02, 5.44667e+02, 3.10069e-01, 1.10000e+01],</span><br><span class="line">        [2.31911e+02, 1.63185e+02, 6.34352e+02, 5.45076e+02, 2.31361e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01170) tensor(-0.01174)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[9.05428e+00, 2.11022e+02, 4.08999e+02, 5.39135e+02, 3.22089e-01, 1.10000e+01],</span><br><span class="line">        [4.61794e+02, 2.10688e+02, 6.39771e+02, 5.44658e+02, 3.09146e-01, 1.10000e+01],</span><br><span class="line">        [2.30330e+02, 1.63200e+02, 6.35278e+02, 5.44961e+02, 2.54768e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01150) tensor(-0.01293)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.21933e-01, 2.33057e+02, 2.87871e+02, 5.46809e+02, 3.21319e-01, 1.10000e+01],</span><br><span class="line">        [4.61861e+02, 2.10696e+02, 6.39771e+02, 5.44652e+02, 3.08678e-01, 1.10000e+01],</span><br><span class="line">        [2.29001e+02, 1.63199e+02, 6.36153e+02, 5.44797e+02, 2.82797e-01, 1.10000e+01],</span><br><span class="line">        [2.19337e+02, 2.01094e+02, 3.80560e+02, 5.18359e+02, 2.04086e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.03610) tensor(-0.02654)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[5.68347e+00, 2.10769e+02, 4.25982e+02, 5.39259e+02, 3.29447e-01, 1.10000e+01],</span><br><span class="line">        [4.62003e+02, 2.10736e+02, 6.39775e+02, 5.44642e+02, 3.09927e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.00983) tensor(-0.01211)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.62217e+02, 2.10771e+02, 6.39774e+02, 5.44629e+02, 3.09151e-01, 1.10000e+01],</span><br><span class="line">        [6.18793e+00, 2.11071e+02, 4.24154e+02, 5.39151e+02, 3.06230e-01, 1.10000e+01],</span><br><span class="line">        [2.32386e+02, 1.63424e+02, 6.33786e+02, 5.45476e+02, 2.04663e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02187) tensor(-0.01586)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.22729e+00, 2.11085e+02, 4.24123e+02, 5.39140e+02, 3.06370e-01, 1.10000e+01],</span><br><span class="line">        [3.05818e+02, 1.65497e+02, 6.38405e+02, 5.46541e+02, 2.79065e-01, 1.10000e+01],</span><br><span class="line">        [4.71523e+02, 2.11698e+02, 6.39244e+02, 5.44901e+02, 2.21405e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01001) tensor(-0.01309)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.87506e+00, 2.11398e+02, 4.21776e+02, 5.39026e+02, 2.85813e-01, 1.10000e+01],</span><br><span class="line">        [3.05309e+02, 1.65486e+02, 6.38404e+02, 5.46548e+02, 2.75543e-01, 1.10000e+01],</span><br><span class="line">        [4.71635e+02, 2.11703e+02, 6.39247e+02, 5.44903e+02, 2.21985e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.00883) tensor(-0.01158)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[3.04795e+02, 1.65479e+02, 6.38402e+02, 5.46556e+02, 2.72046e-01, 1.10000e+01],</span><br><span class="line">        [7.72601e+00, 2.11700e+02, 4.18948e+02, 5.38914e+02, 2.68070e-01, 1.10000e+01],</span><br><span class="line">        [4.71737e+02, 2.11707e+02, 6.39250e+02, 5.44905e+02, 2.22759e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02012) tensor(-0.01559)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.63252e+02, 2.10883e+02, 6.39755e+02, 5.44547e+02, 2.69398e-01, 1.10000e+01],</span><br><span class="line">        [6.81540e+00, 2.11608e+02, 4.23172e+02, 5.39060e+02, 2.64795e-01, 1.10000e+01],</span><br><span class="line">        [2.27875e+02, 1.63346e+02, 6.36536e+02, 5.45941e+02, 2.24023e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02240) tensor(-0.01346)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.87582e+00, 2.11620e+02, 4.22965e+02, 5.39048e+02, 2.65191e-01, 1.10000e+01],</span><br><span class="line">        [3.04492e+02, 1.65518e+02, 6.38154e+02, 5.46432e+02, 2.46447e-01, 1.10000e+01],</span><br><span class="line">        [4.66261e+02, 2.11266e+02, 6.39693e+02, 5.44395e+02, 2.22511e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.00883) tensor(-0.00965)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.27861e+02, 1.63791e+02, 6.36813e+02, 5.46048e+02, 2.51087e-01, 1.10000e+01],</span><br><span class="line">        [7.54276e+00, 2.11909e+02, 4.20730e+02, 5.38950e+02, 2.49378e-01, 1.10000e+01],</span><br><span class="line">        [4.66363e+02, 2.11283e+02, 6.39697e+02, 5.44387e+02, 2.23032e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02562) tensor(-0.01938)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[5.88934e+00, 2.11406e+02, 4.31660e+02, 5.39174e+02, 2.55222e-01, 1.10000e+01],</span><br><span class="line">        [4.41733e+02, 1.98434e+02, 6.40785e+02, 5.46315e+02, 2.47780e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01241) tensor(-0.01126)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.42144e+02, 1.98801e+02, 6.40774e+02, 5.46288e+02, 2.44499e-01, 1.10000e+01],</span><br><span class="line">        [6.19185e+00, 2.11646e+02, 4.30635e+02, 5.39053e+02, 2.36687e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01627) tensor(-0.01399)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[3.05759e+02, 1.65554e+02, 6.38039e+02, 5.46447e+02, 2.41751e-01, 1.10000e+01],</span><br><span class="line">        [6.22633e+00, 2.11659e+02, 4.30684e+02, 5.39050e+02, 2.34810e-01, 1.10000e+01],</span><br><span class="line">        [4.68911e+02, 2.11582e+02, 6.39671e+02, 5.44300e+02, 2.08955e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01791) tensor(-0.01338)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.11099e+00, 2.11577e+02, 4.32366e+02, 5.39178e+02, 2.29949e-01, 1.10000e+01],</span><br><span class="line">        [4.67445e+02, 2.11376e+02, 6.39696e+02, 5.44351e+02, 2.16738e-01, 1.10000e+01],</span><br><span class="line">        [3.06311e+02, 1.65559e+02, 6.37805e+02, 5.46486e+02, 2.09929e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.00953) tensor(-0.01247)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.67489e+02, 2.11380e+02, 6.39702e+02, 5.44346e+02, 2.17577e-01, 1.10000e+01],</span><br><span class="line">        [6.39536e+00, 2.11776e+02, 4.31496e+02, 5.39074e+02, 2.14570e-01, 1.10000e+01],</span><br><span class="line">        [3.06059e+02, 1.65553e+02, 6.37798e+02, 5.46512e+02, 2.05941e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01595) tensor(-0.01078)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.40094e+00, 2.11787e+02, 4.31503e+02, 5.39063e+02, 2.15568e-01, 1.10000e+01],</span><br><span class="line">        [3.05005e+02, 1.65564e+02, 6.37797e+02, 5.46392e+02, 2.13278e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.00856) tensor(-0.01144)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[5.03036e-01, 2.35432e+02, 2.68015e+02, 5.47268e+02, 2.10955e-01, 1.10000e+01],</span><br><span class="line">        [3.04768e+02, 1.65558e+02, 6.37798e+02, 5.46419e+02, 2.08983e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01639) tensor(-0.01730)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.37762e+01, 1.74297e+02, 6.26394e+02, 5.36317e+02, 2.15803e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.02076) tensor(-0.01633)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[3.05007e+02, 1.65532e+02, 6.37837e+02, 5.46464e+02, 2.16731e-01, 1.10000e+01],</span><br><span class="line">        [6.43428e+00, 2.11935e+02, 4.29547e+02, 5.39050e+02, 2.12161e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01565) tensor(-0.01634)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.28447e+00, 2.11858e+02, 4.31250e+02, 5.39170e+02, 2.08235e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.00794) tensor(-0.01184)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.56436e-01, 2.35380e+02, 2.68908e+02, 5.47319e+02, 2.03724e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01649) tensor(-0.01712)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[2.37818e+01, 1.73652e+02, 6.25408e+02, 5.35924e+02, 2.07998e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01791) tensor(-0.01575)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[6.22389e+00, 2.11991e+02, 4.29703e+02, 5.39186e+02, 2.05615e-01, 1.10000e+01],</span><br><span class="line">        [4.66568e+02, 2.11206e+02, 6.39723e+02, 5.44350e+02, 2.01893e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.00740) tensor(-0.01135)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.66580e+02, 2.11211e+02, 6.39728e+02, 5.44346e+02, 2.02418e-01, 1.10000e+01],</span><br><span class="line">        [4.12628e-01, 2.35314e+02, 2.70160e+02, 5.47328e+02, 2.00482e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01451) tensor(-0.01116)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([[4.10477e-01, 2.35314e+02, 2.70265e+02, 5.47322e+02, 2.01308e-01, 1.10000e+01]], grad_fn&#x3D;&lt;IndexBackward0&gt;)</span><br><span class="line">True True</span><br><span class="line">tensor(0.01699) tensor(-0.01811)</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Please remove the object!</span><br><span class="line">---------------------Start detecting----------------------</span><br><span class="line">tensor([], size&#x3D;(0, 6))</span><br><span class="line">False True</span><br><span class="line">Mask sum is: tensor(53862.)</span><br><span class="line">[*]Cracked, now run fool_me.py</span><br></pre></td></tr></table></figure>

    </div>
</div>
<p>至此，本题被Mark为Solved</p>
<p>下面的两张图分别为Patch以及被攻击后的图像的可视化检测结果</p>
<p><img src="/images/CISCN_2023_patch.png" /></p>
<p><img src="/images/CISCN_2023_Yolo_Patched_Example.png" /></p>
<p>可以看见被攻击后的图像中检测到的物体置信度都在0.2以下，已经满足题目要求</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
                            </div>

                            <div>
                                <center>
                                    <div class="pagination">

    
    
    <a href="/2023/11/22/GazeForensics/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2023/01/16/攒机小技巧/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

                                </center>
                            </div>

                            <!-- comment -->
                            
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>


                    </div>
                    <!-- col-md-9/col-md-12 -->

                    
                        <div id="side_meta">
                            <div class="col-md-3" id="post_meta">

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2023-08-07
	</div>
	

	<!-- categories -->
    

	<!-- tags -->
	

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#ciscn2023%E5%88%9D%E8%B5%9B-advdetpatch-writeup"><span class="toc-article-text">CISCN2023初赛 AdvDetPatch WriteUp</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E9%A2%98%E5%B9%B2"><span class="toc-article-text">题干</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#%E8%A7%A3%E9%A2%98%E8%BF%87%E7%A8%8B"><span class="toc-article-text">解题过程</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E5%88%9D%E6%AD%A5%E9%AA%8C%E8%AF%81"><span class="toc-article-text">初步验证</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#%E6%9F%A5%E6%89%BE%E8%B5%84%E6%96%99"><span class="toc-article-text">查找资料</span></a></li><li class="toc-article-item toc-article-level-3"><a class="toc-article-link" href="#exp"><span class="toc-article-text">Exp</span></a></li></ol></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

                        </div>
                        

            </div>
            <!-- row -->
            


                
                    <div id="gitalk-container"></div>
                    <link rel="stylesheet" href="/css/gitalk.css">
<script src="/js/gitalk.min.js"></script>
<script src="/js/md5.min.js"></script>
<script type="text/javascript">
    new Gitalk({
        clientID: '91155bbf0d150664c4e8',
        clientSecret: 'a6ace36b45921480fe64e5a8d76de241d197bb15',
        repo: 'kyriota.github.io',
        owner: 'Kyriota',
        admin: 'Kyriota',
        id: md5(location.pathname),
        createIssueManually: true,
        distractionFreeMode: true
    }).render('gitalk-container')
</script>
                        
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
    
        &copy;
        2024
            KYRIOTA
                
                                Powered By <a href="http://hexo.io/" target="_blank">Hexo</a>, Modified From <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
